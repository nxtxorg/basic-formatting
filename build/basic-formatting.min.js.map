{"version":3,"file":"basic-formatting.min.js","sources":["../src/basic-formatting.ts"],"sourcesContent":["/*  Basic text formatting package for NxTx\r\n    Author: Malte Rosenbjerg\r\n    License: MIT */\r\n\r\nimport { Package, INxtx } from '../nxtx-interface';\r\ndeclare const nxtx: INxtx;\r\n\r\nconst style = document.createElement(\"style\");\r\nstyle.id = 'basic-formatting-style-block';\r\ndocument.head.appendChild(style);\r\n\r\n// Default\r\nconst sheet = <CSSStyleSheet> style.sheet;\r\nsheet.insertRule('.page-break { height: 0 }', 0);\r\nsheet.insertRule('.meta ~ .page-break:not(:last-child) { height: 100% }', 1);\r\nsheet.insertRule('.paragraph-break { height: 0 }', 2);\r\nsheet.insertRule('.meta ~ .paragraph-break:not(:last-child) { height: 1.2em }', 3);\r\n\r\nconst pkg : Package = {\r\n    name: 'basic-formatting',\r\n    commands: {\r\n        'text:it': content => nxtx.html('i', null, content.value),\r\n        'text:bf': content => nxtx.html('b', null, content.value),\r\n        'text:tt': content => nxtx.html('code', null, content.value),\r\n        'dquote': contentNode => nxtx.text(`“${contentNode.value}”`),\r\n        'break': () => nxtx.htmlLite('div', { class: 'meta', style: 'height: 1.5em' }),\r\n        'pagebreak': () => nxtx.htmlLite('div', { class: 'meta page-break' }),\r\n        'title': titleNode => (document.title = titleNode.value) && undefined,\r\n        'ignore': () => undefined,\r\n\r\n    }\r\n};\r\n\r\nif (nxtx) nxtx.registerPackage(pkg);\r\n\r\nexport default pkg;"],"names":["style","document","createElement","id","head","appendChild","sheet","insertRule","pkg","name","commands","text:it","content","nxtx","html","value","text:bf","text:tt","dquote","contentNode","text","break","htmlLite","class","pagebreak","title","titleNode","undefined","ignore","registerPackage"],"mappings":"6CAOA,IAAMA,EAAQC,SAASC,cAAc,SACrCF,EAAMG,GAAK,+BACXF,SAASG,KAAKC,YAAYL,GAG1B,IAAMM,EAAwBN,EAAMM,MACpCA,EAAMC,WAAW,4BAA6B,GAC9CD,EAAMC,WAAW,wDAAyD,GAC1ED,EAAMC,WAAW,iCAAkC,GACnDD,EAAMC,WAAW,8DAA+D,GAEhF,IAAMC,EAAgB,CAClBC,KAAM,mBACNC,SAAU,CACNC,UAAW,SAAAC,GAAW,OAAAC,KAAKC,KAAK,IAAK,KAAMF,EAAQG,QACnDC,UAAW,SAAAJ,GAAW,OAAAC,KAAKC,KAAK,IAAK,KAAMF,EAAQG,QACnDE,UAAW,SAAAL,GAAW,OAAAC,KAAKC,KAAK,OAAQ,KAAMF,EAAQG,QACtDG,OAAU,SAAAC,GAAe,OAAAN,KAAKO,KAAK,IAAID,EAAYJ,YACnDM,MAAS,WAAM,OAAAR,KAAKS,SAAS,MAAO,CAAEC,MAAO,OAAQvB,MAAO,mBAC5DwB,UAAa,WAAM,OAAAX,KAAKS,SAAS,MAAO,CAAEC,MAAO,qBACjDE,MAAS,SAAAC,GAAa,OAACzB,SAASwB,MAAQC,EAAUX,aAAUY,GAC5DC,OAAU,sBAKdf,MAAMA,KAAKgB,gBAAgBrB"}